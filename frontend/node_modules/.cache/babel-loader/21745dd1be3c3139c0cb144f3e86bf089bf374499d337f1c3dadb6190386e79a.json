{"ast":null,"code":"var _jsxFileName = \"/home/vaibav/project/chat/frontend/src/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport useWebSocket from \"react-use-websocket\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SOCKET_URL = \"ws://localhost:5000\"; // WebSocket backend URL\n\nconst Chat = () => {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [chat, setChat] = useState([]);\n  const {\n    sendMessage,\n    lastMessage\n  } = useWebSocket(SOCKET_URL, {\n    onOpen: () => console.log(\"Connected to WebSocket\"),\n    onMessage: event => {\n      const response = JSON.parse(event.data);\n      if (response.message) {\n        setChat(prevChat => [...prevChat, {\n          sender: \"bot\",\n          text: response.message\n        }]);\n      } else if (response.history) {\n        // If history is included in the response\n        setChat(response.history);\n      }\n    }\n  });\n  const handleSendMessage = () => {\n    if (message.trim()) {\n      setChat(prevChat => [...prevChat, {\n        sender: \"user\",\n        text: message\n      }]);\n      sendMessage(message);\n      setMessage(\"\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"500px\",\n      margin: \"auto\",\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"WebSocket Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ddd\",\n        padding: \"10px\",\n        height: \"300px\",\n        overflowY: \"scroll\"\n      },\n      children: chat.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: msg.sender === \"user\" ? \"right\" : \"left\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [msg.sender, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), \" \", msg.text]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: message,\n      onChange: e => setMessage(e.target.value),\n      placeholder: \"Type a message...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSendMessage,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(Chat, \"SqKXkYrDCV4Eq7JYpTLvqqWNvQU=\", false, function () {\n  return [useWebSocket];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useWebSocket","jsxDEV","_jsxDEV","SOCKET_URL","Chat","_s","message","setMessage","chat","setChat","sendMessage","lastMessage","onOpen","console","log","onMessage","event","response","JSON","parse","data","prevChat","sender","text","history","handleSendMessage","trim","style","maxWidth","margin","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","border","padding","height","overflowY","map","msg","index","type","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["/home/vaibav/project/chat/frontend/src/Chat.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport useWebSocket from \"react-use-websocket\";\n\nconst SOCKET_URL = \"ws://localhost:5000\"; // WebSocket backend URL\n\nconst Chat = () => {\n    const [message, setMessage] = useState(\"\");\n    const [chat, setChat] = useState([]);\n\n    const { sendMessage, lastMessage } = useWebSocket(SOCKET_URL, {\n        onOpen: () => console.log(\"Connected to WebSocket\"),\n        onMessage: (event) => {\n            const response = JSON.parse(event.data);\n            if (response.message) {\n                setChat((prevChat) => [\n                    ...prevChat,\n                    { sender: \"bot\", text: response.message },\n                ]);\n            } else if (response.history) {\n                // If history is included in the response\n                setChat(response.history);\n            }\n        },\n    });\n\n    const handleSendMessage = () => {\n        if (message.trim()) {\n            setChat((prevChat) => [...prevChat, { sender: \"user\", text: message }]);\n            sendMessage(message);\n            setMessage(\"\");\n        }\n    };\n\n    return (\n        <div style={{ maxWidth: \"500px\", margin: \"auto\", textAlign: \"center\" }}>\n            <h2>WebSocket Chat</h2>\n            <div\n                style={{\n                    border: \"1px solid #ddd\",\n                    padding: \"10px\",\n                    height: \"300px\",\n                    overflowY: \"scroll\",\n                }}\n            >\n                {chat.map((msg, index) => (\n                    <div key={index} style={{ textAlign: msg.sender === \"user\" ? \"right\" : \"left\" }}>\n                        <strong>{msg.sender}:</strong> {msg.text}\n                    </div>\n                ))}\n            </div>\n            <input\n                type=\"text\"\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                placeholder=\"Type a message...\"\n            />\n            <button onClick={handleSendMessage}>Send</button>\n        </div>\n    );\n};\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}